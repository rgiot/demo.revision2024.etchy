- tgt: sna
  dep: etch_a_sketch.sna

- tgt: m4
  dep: sna
  cmd: xfer 192.168.1.26 -y etch_a_sketch.sna

- tgt: etch_a_sketch.sna etch.o etch_header.o etch_a_sketch.sym etch.dsk 
  dep: src/commands.asm  src/engine.asm src/engine_macros.asm  src/main.asm convert/*.asm src/music.asm music/*.asm baston_multiple.o revision.o
  cmd: 
    - basm -I src main.asm --sna -o etch_a_sketch.sna --override -DLINKED_VERSION=0
    - basm -I src main.asm --lst etch_a_sketch.lst --sym etch_a_sketch.sym -DLINKED_VERSION=1

- tgt: bootstrap.o bootstrap.sym
  dep: src/bootstrap.asm etch.o
  cmd: basm -I src bootstrap.asm --sym bootstrap.sym

- tgt: etch4k etch4k.dsk 
  dep:  src/etch4k.asm bootstrap.o etch_header.o etch_a_sketch.sym etch.dsk
  cmd: 
    - basm  -I src etch4k.asm -o etch4k --lst eth4k.lst
    - disc etch.dsk add etch4k

- tgt: clean
  cmd:
    - -rm *.sym *.lst etch.o etch.shrink etch4k
    - -rm bootstrap.o
    - -rm small_connex.asm small_connex.o
    - -rm title.asm title.o
    - -rm multiple.asm multiple.o

- tgt: distclean
  dep: clean
  cmd: -rm etch_a_sketch.sna etch4k.sna etch4k.dsk






- tgt: pictures/baston_multiple.asm 
  dep: pictures/bastona2.png pictures/bastonb.png pictures/bastonc.png
  cmd: extern ./tools/convert --euclidean pictures/bastona.png pictures/bastonb.png pictures/bastonc.png pictures/baston_multiple.asm 
- tgt: baston_multiple.o 
  dep: pictures/baston_multiple.asm 
  cmd: 
    - basm -I src pictures/baston_multiple.asm -o baston_multiple.o


- tgt: pictures/revision.asm
  dep: pictures/revision.png
  cmd: extern ./tools/convert --euclidean pictures/revision.png pictures/revision.asm
- tgt: revision.o
  dep: pictures/revision.asm src/commands.asm
  cmd: basm -I src pictures/revision.asm -o revision.o


