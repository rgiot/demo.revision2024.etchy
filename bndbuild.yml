- tgt: sna
  dep: etch_a_sketch.sna

- tgt: m4
  dep: sna
  cmd: xfer 192.168.1.26 -y etch_a_sketch.sna

- tgt: etch_a_sketch.sna etch.o
  dep: src/commands.asm  src/engine.asm  src/main.asm convert/*.asm small_connex.o title.o multiple.o
  cmd: basm --sna -I src main.asm -o etch_a_sketch.sna --lst etch_a_sketch.lst --sym etch_a_sketch.sym

- tgt: etch4k.sna etch4k.dsk etch4k
  dep: src/etch4k.asm etch.o
  cmd: basm --sna -I src etch4k.asm -o etch4k.sna --override

- tgt: clean
  cmd:
    - -rm *.sym *.lst etch.o etch.shrink etch4k
    - -rm small_connex.asm small_connex.o
    - -rm title.asm title.o
    - -rm multiple.asm multiple.o

- tgt: distclean
  dep: clean
  cmd: -rm etch_a_sketch.sna etch4k.sna etch4k.dsk


- tgt: small_connex.asm
  dep: convert/small_connex.png
  cmd: extern ./tools/convert --euclidean convert/small_connex.png small_connex.asm
- tgt: small_connex.o
  dep: small_connex.asm
  cmd: basm -I src small_connex.asm -o small_connex.o


- tgt: title.asm
  dep: convert/title.png
  cmd: extern ./tools/convert --euclidean convert/title.png title.asm
- tgt: title.o
  dep: title.asm
  cmd: basm -I src title.asm -o title.o


- tgt: multiple.asm
  dep: convert/puzzle1.png convert/puzzle2.png convert/puzzle3.png
  cmd: extern ./tools/convert --euclidean convert/puzzle1.png convert/puzzle2.png convert/puzzle3.png multiple.asm
- tgt: multiple.o
  dep: multiple.asm
  cmd: basm -I src multiple.asm -o multiple.o