- tgt: sna
  dep: etch_a_sketch.sna

- tgt: m4
  dep: sna
  cmd: xfer 192.168.1.26 -y etch_a_sketch.sna

- tgt: etch_a_sketch.sna etch.o etch_header.o
  dep: src/commands.asm  src/engine.asm  src/main.asm convert/*.asm small_connex.o title.o multiple.o
  cmd: basm --sna -I src main.asm -o etch_a_sketch.sna --lst etch_a_sketch.lst --override --sym etch_a_sketch.sym

- tgt: bootstrap.o bootstrap.sym
  dep: src/bootstrap.asm etch.o
  cmd: basm -I src bootstrap.asm --sym bootstrap.sym

- tgt: ETCH4K etch4k.dsk 
  dep:  src/etch4k.asm bootstrap.o etch_header.o etch_a_sketch.sym
  cmd: 
    - basm  -I src etch4k.asm -o ETCH4K --lst eth4k.lst
    - extern dskmanager etch4k.dsk format --format data
    - extern dskmanager etch4k.dsk add ETCH4K

- tgt: clean
  cmd:
    - -rm *.sym *.lst etch.o etch.shrink etch4k
    - -rm bootstrap.o
    - -rm small_connex.asm small_connex.o
    - -rm title.asm title.o
    - -rm multiple.asm multiple.o

- tgt: distclean
  dep: clean
  cmd: -rm etch_a_sketch.sna etch4k.sna etch4k.dsk


- tgt: small_connex.asm
  dep: convert/small_connex.png
  cmd: extern ./tools/convert --euclidean convert/small_connex.png small_connex.asm
- tgt: small_connex.o
  dep: small_connex.asm
  cmd: basm -I src small_connex.asm -o small_connex.o


- tgt: title.asm
  dep: convert/title.png
  cmd: extern ./tools/convert --euclidean convert/title.png title.asm
- tgt: title.o
  dep: title.asm
  cmd: basm -I src title.asm -o title.o


- tgt: multiple.asm
  dep: convert/puzzle1.png convert/puzzle2.png convert/puzzle3.png
  cmd: extern ./tools/convert --euclidean convert/puzzle1.png convert/puzzle2.png convert/puzzle3.png multiple.asm
- tgt: multiple.o
  dep: multiple.asm
  cmd: basm -I src multiple.asm -o multiple.o